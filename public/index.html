<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Health Tracker App</title>
  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    .glass {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-400 to-blue-900 text-white">

  <!-- LOGIN PAGE -->
  <section id="loginPage" class="min-h-screen flex items-center justify-center">
    <div class="glass w-[400px] p-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-center mb-6">Login</h2>
      <input id="loginEmail" type="email" placeholder="Email" class="w-full px-4 py-2 mb-3 rounded-lg text-black">
      <input id="loginPassword" type="password" placeholder="Password" class="w-full px-4 py-2 mb-3 rounded-lg text-black">
      <button onclick="goDashboard()" class="w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-lg">Sign In</button>
      <p class="mt-4 text-center text-sm">
        Donâ€™t have an account? 
        <a href="#" onclick="showPage('signupPage')" class="text-blue-300">Register free</a>
      </p>
    </div>
  </section>

  <!-- SIGN UP PAGE -->
  <section id="signupPage" class="hidden min-h-screen flex items-center justify-center">
    <div class="glass w-[400px] p-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-center mb-6">Sign Up</h2>
      <input id="signupName" type="text" placeholder="Full Name" class="w-full px-4 py-2 mb-3 rounded-lg text-black">
      <input id="signupEmail" type="email" placeholder="Email" class="w-full px-4 py-2 mb-3 rounded-lg text-black">
      <input id="signupPassword" type="password" placeholder="Password" class="w-full px-4 py-2 mb-3 rounded-lg text-black">
      <input id="signupConfirm" type="password" placeholder="Confirm Password" class="w-full px-4 py-2 mb-3 rounded-lg text-black">
      <button onclick="completeSignup()" class="w-full py-2 bg-green-600 hover:bg-green-700 rounded-lg">Register</button>
      <p class="mt-4 text-center text-sm">
        Already have an account? 
        <a href="#" onclick="showPage('loginPage')" class="text-blue-300">Login</a>
      </p>
    </div>
  </section>

  <!-- DASHBOARD -->
  <section id="dashboardPage" class="hidden">
    <!-- Top Nav -->
    <header class="flex justify-between items-center px-6 py-4 bg-white/10 backdrop-blur-md">
      <nav class="flex space-x-6">
        <a href="#" class="font-semibold">Dashboard</a>
        <a href="#">Habits</a>
        <a href="#">Workouts</a>
        <a href="#">Meals</a>
        <a href="#">Sleep</a>
        <a href="#">Mood</a>
        <a href="#">Friends</a>
      </nav>
      <div class="flex items-center space-x-4">
        <div>
          <p id="userName" class="font-semibold">User</p>
          <p class="text-sm opacity-80" id="currentDate"></p>
        </div>
        <button onclick="logout()" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg">Logout</button>
      </div>
    </header>

    <!-- Dashboard Body -->
    <main class="p-6 space-y-8">
      <!-- Top Cards -->
      <section class="grid grid-cols-1 md:grid-cols-4 gap-6">
        <div class="glass p-4 shadow-lg">
          <h3 class="font-semibold">Habit Streak</h3>
          <p class="text-2xl font-bold">ðŸ”¥ 12 Days</p>
          <p class="text-sm opacity-80">3/4 habits today</p>
        </div>
        <div class="glass p-4 shadow-lg">
          <h3 class="font-semibold">Workouts This Week</h3>
          <p class="text-2xl font-bold">5</p>
          <p class="text-sm opacity-80">Target: 4</p>
        </div>
        <div class="glass p-4 shadow-lg">
          <h3 class="font-semibold">Calories Today</h3>
          <p class="text-2xl font-bold">1,850 / 2,200 kcal</p>
        </div>
        <div class="glass p-4 shadow-lg flex justify-between items-center">
          <div>
            <h3 class="font-semibold">Hydration</h3>
            <p class="text-2xl font-bold" id="waterCount">6 / 8</p>
          </div>
          <button onclick="addGlass()" class="px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg">+ Glass</button>
        </div>
      </section>

      <!-- Trends -->
      <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="glass p-4">
          <h3 class="mb-2 font-semibold">Calories (Last 7 Days)</h3>
          <canvas id="caloriesChart"></canvas>
        </div>
        <div class="glass p-4">
          <h3 class="mb-2 font-semibold">Workouts (Last 7 Days)</h3>
          <canvas id="workoutsChart"></canvas>
        </div>
        <div class="glass p-4">
          <h3 class="mb-2 font-semibold">Meals (Last 7 Days)</h3>
          <canvas id="mealsChart"></canvas>
        </div>
        <div class="glass p-4">
          <h3 class="mb-2 font-semibold">Hydration (Last 7 Days)</h3>
          <canvas id="hydrationChart"></canvas>
        </div>
      </section>

      <!-- Download Report -->
      <div class="flex justify-end">
        <button onclick="downloadCSV()" class="px-5 py-2 bg-green-600 hover:bg-green-700 rounded-lg">
          â¬‡ Download Full Report (CSV)
        </button>
      </div>
    </main>
  </section>

  <!-- JS -->
  <script>
    // Show/Hide Pages
    function showPage(pageId) {
      document.getElementById("loginPage").classList.add("hidden");
      document.getElementById("signupPage").classList.add("hidden");
      document.getElementById("dashboardPage").classList.add("hidden");
      document.getElementById(pageId).classList.remove("hidden");
    }

    // Signup completes -> go back to login
    function completeSignup() {
      alert("Signup successful! Please login.");
      showPage("loginPage");
    }

    // Login -> Dashboard
    function goDashboard() {
      const email = document.getElementById("loginEmail").value;
      document.getElementById("userName").textContent = email.split("@")[0] || "User";
      document.getElementById("currentDate").textContent = new Date().toDateString();
      showPage("dashboardPage");
      initCharts();
    }

    // Logout -> back to login
    function logout() {
      showPage("loginPage");
    }

    // Hydration tracker
    let waterCount = 6;
    function addGlass() {
      if (waterCount < 8) {
        waterCount++;
        document.getElementById("waterCount").textContent = `${waterCount} / 8`;
      }
    }

    // CSV Download
    function downloadCSV() {
      const rows = [
        ["Date", "Calories", "Workouts", "Meals", "Hydration"],
        ["Mon", 2000, 1, 3, 8],
        ["Tue", 1800, 0, 2, 6],
        ["Wed", 2200, 1, 3, 7],
        ["Thu", 1900, 1, 2, 8],
        ["Fri", 2100, 0, 3, 7],
        ["Sat", 2300, 1, 4, 8],
        ["Sun", 2000, 1, 3, 6],
      ];
      let csvContent = "data:text/csv;charset=utf-8," 
        + rows.map(e => e.join(",")).join("\n");
      const link = document.createElement("a");
      link.setAttribute("href", encodeURI(csvContent));
      link.setAttribute("download", "health_report.csv");
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    // Init Charts
    function initCharts() {
      const labels = ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];
      new Chart(document.getElementById("caloriesChart"), {
        type: "line",
        data: { labels, datasets: [{ label: "Calories", data: [2000,1800,2200,1900,2100,2300,2000], borderColor: "white", fill: false }] }
      });
      new Chart(document.getElementById("workoutsChart"), {
        type: "bar",
        data: { labels, datasets: [{ label: "Workouts", data: [1,0,1,1,0,1,1], backgroundColor: "rgba(255,255,255,0.7)" }] }
      });
      new Chart(document.getElementById("mealsChart"), {
        type: "line",
        data: { labels, datasets: [{ label: "Meals", data: [3,2,3,2,3,4,3], borderColor: "yellow", fill: false }] }
      });
      new Chart(document.getElementById("hydrationChart"), {
        type: "bar",
        data: { labels, datasets: [{ label: "Glasses", data: [8,6,7,8,7,8,6], backgroundColor: "rgba(0,200,255,0.7)" }] }
      });
    }
  </script>
</body>
</html>
