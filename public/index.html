<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Login UI</title>
  <style>
    /* Your original styles remain unchanged */
    html, body { height:100%; margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Arial, sans-serif;}
    body {min-height:100vh; width:100vw; background:linear-gradient(120deg,#a2d4f6 60%,#023e8a 100%); overflow:hidden; display:flex; align-items:center; justify-content:center; position:relative;}
    body::before, body::after {content:""; position:absolute; border-radius:40% 60% 60% 40% / 60% 40% 60% 40%; opacity:0.33; z-index:0;}
    body::before {top:-100px; left:-100px; width:350px; height:350px; background:#90e0ef;}
    body::after {right:-120px; bottom:-160px; width:400px; height:300px; background:#0077b6;}
    .login-container {position:relative; z-index:1; width:100%; max-width:425px; margin:auto;}
    .login-form {background: rgba(255,255,255,0.14); box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18); border-radius:22px; backdrop-filter:blur(14px); -webkit-backdrop-filter:blur(14px); padding:34px 32px 25px 32px; color:#fff; text-align:center;}
    .logo {font-size:1.1rem; font-weight:600; margin-bottom:17px; color:#fff;}
    h2 {margin:0 0 12px 0; letter-spacing:1px; font-size:2rem; font-weight:600;}
    label {display:block; text-align:left; margin:13px 0 3px 1px; font-size:1.04rem; color:#e0e0e0;}
    input[type="email"], input[type="password"] {width:100%; padding:10px 12px; border-radius:7px; border:none; margin-bottom:7px; background:rgba(255,255,255,0.27); color:#252525; font-size:1rem; outline:none;}
    input::placeholder {color:#bdbdbd;}
    .forgot {text-align:right; margin-bottom:14px; font-size:0.96rem;}
    .forgot a {color:#caf0f8; text-decoration:none;}
    .signin-btn {width:100%; padding:11px 0; background:#023e8a; color:#fff; font-weight:bold; border-radius:7px; border:none; font-size:1.07rem; cursor:pointer; margin-bottom:18px; transition: background 0.18s;}
    .signin-btn:hover {background:#0077b6;}
    .divider {color:#cde7f8; font-size:0.97rem; margin:8px 0 11px 0;}
    .social-login {display:flex; justify-content:center; gap:15px; margin-bottom:17px;}
    .social {width:36px; height:36px; border-radius:50%; border:none; background:#fff; cursor:pointer; box-shadow:0 2px 5px 0 rgba(44,62,80,0.09); transition:transform 0.17s; display:flex; align-items:center; justify-content:center; padding:0;}
    .social:hover {transform:scale(1.09);}
    .social.google { background: #fff url('https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg') center/60% no-repeat; }
    .social.github { background: #fff url('https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg') center/60% no-repeat; }
    .social.apple  { background: #fff url('https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg') center/55% no-repeat; }
    .register {font-size:1rem; color:#f0fafc; margin-top:7px;}
    .register a {color:#48cae4; text-decoration:none; font-weight:bold;}
    @media (max-width:600px){.login-form{padding:18px 5vw; border-radius:15px;} .login-container{max-width:96vw;}}
  </style>
</head>
<body>
  <div class="login-container">
    <div class="login-form">
      <div class="logo">Your logo</div>
      <h2>Login</h2>
      <form id="loginForm">
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="username@gmail.com" required>
        <label for="password">Password</label>
        <input type="password" id="password" placeholder="Password" required>
        <div class="forgot"><a href="#">Forgot Password?</a></div>
        <button type="submit" class="signin-btn">Sign in</button>
      </form>
      <div class="divider">or continue with</div>
      <div class="social-login">
        <button type="button" class="social google" title="Sign in with Google"></button>
        <button type="button" class="social github" title="Sign in with GitHub"></button>
        <button type="button" class="social apple" title="Sign in with Apple"></button>
      </div>
      <div class="register">Don't have an account? <a href="signup.html">Register for free</a></div>
    </div>
  </div>

  <!-- Backend Integration Script -->
  <script>
    const API_URL = "https://health-tracker-exp.onrender.com"; // Your Render backend

    const form = document.getElementById("loginForm");
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const username = emailInput.value.trim();
      const password = passwordInput.value.trim();

      try {
        const res = await fetch(`${API_URL}/login`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ username, password })
        });

        const data = await res.json();

        if (data.userId) {
          alert("Login successful!");
          // Save user ID in localStorage/session if needed
          localStorage.setItem("userId", data.userId);
          // Redirect to dashboard
          window.location.href = "dashboard.html";
        } else {
          alert(data.error || "Login failed");
        }
      } catch (err) {
        console.error(err);
        alert("Error connecting to backend");
      }
    });
  </script>
</body>
</html>
